# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Eksctl < Formula
  desc "The official CLI for Amazon EKS"
  homepage "https://eksctl.io/"
  version "0.48.0"
  bottle :unneeded

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/weaveworks/eksctl/releases/download/0.48.0/eksctl_Darwin_amd64.tar.gz"
    sha256 "3a5bc3086d11337ee75496d517c73d21bd533d59c850baec28cf9cd2b104800c"
  end
  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/weaveworks/eksctl/releases/download/0.48.0/eksctl_Darwin_arm64.tar.gz"
    sha256 "187286525aab7b88ca12ad30a78b069b700ff2d47729c7a936ca6b3ed3977156"
  end
  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/weaveworks/eksctl/releases/download/0.48.0/eksctl_Linux_amd64.tar.gz"
    sha256 "7f9616c2bb42a2a14ef1f965ba4e09a6a451428f60cdb1b606175f3ad212a7db"
  end
  if OS.linux? && Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
    url "https://github.com/weaveworks/eksctl/releases/download/0.48.0/eksctl_Linux_armv6.tar.gz"
    sha256 "798300b248cc3778b6ecea2f157d7f33ffde02feb42b92b3103ae5a7691af5c8"
  end
  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/weaveworks/eksctl/releases/download/0.48.0/eksctl_Linux_arm64.tar.gz"
    sha256 "bcb5509f39eee2ac2f4b6a3329b35555ea1e7b6b536ab3fdd748815ccffee321"
  end

  head "https://github.com/weaveworks/eksctl/releases/download/latest_release/eksctl_Darwin_amd64.tar.gz"

  depends_on "kubernetes-cli"
  depends_on "aws-iam-authenticator"

  def install
    bin.install "eksctl"

    # Install bash completion
    output = Utils.popen_read("#{bin}/eksctl completion bash")
    (bash_completion/"eksctl").write output

    # Install zsh completion
    output = Utils.popen_read("#{bin}/eksctl completion zsh")
    (zsh_completion/"_eksctl").write output
  end
end
