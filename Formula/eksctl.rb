# This file was generated by GoReleaser. DO NOT EDIT.
class Eksctl < Formula
  desc "The official CLI for Amazon EKS"
  homepage "https://eksctl.io/"
  version "0.36.2"
  bottle :unneeded

  if OS.mac?
    url "https://github.com/weaveworks/eksctl/releases/download/0.36.2/eksctl_Darwin_amd64.tar.gz"
    sha256 "2d02e665bb383cd6349b6d85c66071fea47e12ae3b9986119aad5b4b3f049f29"
  end
  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/weaveworks/eksctl/releases/download/0.36.2/eksctl_Linux_amd64.tar.gz"
    sha256 "5bc5fcad4167b7c3f105b8958190dae174a10d6c6268884d25290de6e91a4cec"
  end
  if OS.linux? && Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
    url "https://github.com/weaveworks/eksctl/releases/download/0.36.2/eksctl_Linux_armv6.tar.gz"
    sha256 "0871d3f62d9deda16d18c7ae80faec31fc29721953950423ecef26ba66886f2f"
  end
  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/weaveworks/eksctl/releases/download/0.36.2/eksctl_Linux_arm64.tar.gz"
    sha256 "c482a05a129c3a164af2f25d255d3fc493d5fb48b6e9fffdc9ef9191f317f3a2"
  end

  head "https://github.com/weaveworks/eksctl/releases/download/latest_release/eksctl_Darwin_amd64.tar.gz"

  depends_on "kubernetes-cli"
  depends_on "aws-iam-authenticator"

  def install
    bin.install "eksctl"

    # Install bash completion
    output = Utils.popen_read("#{bin}/eksctl completion bash")
    (bash_completion/"eksctl").write output

    # Install zsh completion
    output = Utils.popen_read("#{bin}/eksctl completion zsh")
    (zsh_completion/"_eksctl").write output
  end
end
